

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lectura 6 - Tipo de Datos &mdash; Curso ALMA SQL</title>
    
    <link rel="stylesheet" href="../../_static/sqlcourse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Curso ALMA SQL" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li><a href="../../index.html">Curso SQL</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/alma200.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Contenidos</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lectura 6 - Tipo de Datos</a><ul>
<li><a class="reference internal" href="#descripcion">DESCRIPCIÓN</a><ul>
<li><a class="reference internal" href="#ejemplo-practico">Ejemplo práctico</a></li>
</ul>
</li>
<li><a class="reference internal" href="#referencias">Referencias</a></li>
</ul>
</li>
</ul>

  <h3>Esta página</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lectures/week2/lecture6.txt"
           rel="nofollow">Enseñar el código</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Búsqueda rápida</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Introduzca los términos de búsqueda o un módulo, clase o nombre de función.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lectura-6-tipo-de-datos">
<h1>Lectura 6 - Tipo de Datos<a class="headerlink" href="#lectura-6-tipo-de-datos" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="descripcion">
<h2>DESCRIPCIÓN<a class="headerlink" href="#descripcion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En SQL se tienen varios tipos de datos. Cuando creamos una tabla con la instrucción
create table, tenemos que especificar el tipo de dato de cada columna.[1]_</p>
<ol class="arabic simple">
<li><strong>Cadenas de carácteres de largo fijo y variable:</strong> Un atributo de una tabla de
tipo <em>CHAR(n)</em> denota una cadena de longitud fija de n caracteres. Es decir,
si un atributo es de tipo <em>CHAR(n)</em>, entonces en cualquier tupla el componente
para este atributo será una cadena de n caracteres. <em>VARCHAR(n)</em> denota una
cadena de hasta n caracteres.</li>
<li><strong>Cadenas de bits de longitud fija o variable:</strong> Estas cadenas son análogas a
las cadenas de caracteres fijos y variables de longitud, pero sus valores son
cadenas de bits en lugar de caracteres. El tipo <em>BIT(n)</em> denota cadenas de bits
de longitud n y BIT VARYING (n) es una cadena de bits de longitud variable.</li>
<li><strong>Tipo de dato booleanos:</strong> <em>BOOL</em> denota un atributo cuyo valor es lógico.
Los valores posibles de este tipo de atributo son TRUE, FALSE, y UNKNOWN.</li>
<li><strong>Tipo de dato entero:</strong> <em>INTEGER</em> denota típicos valores enteros.
El tipo <em>SMALLINT</em> también denota números enteros, pero el número de bits
permitidos puede ser menor.</li>
<li><strong>Tipo de dato flotante:</strong> Podemos utilizar el tipo <em>FLOAT</em> para los típicos
números de punto flotante.</li>
<li><strong>Tipo de dato Fecha/Hora:</strong> Pueden ser representados por <em>DATE</em> y <em>TIME</em>.
Estos valores son esencialmente cadenas de caracteres de una forma especial.
Además existe un tipo de dato llamado <em>TIMESTAMP</em>.
El formato que deben tener se muestra en la siguiente tabla:</li>
</ol>
<div class="math">
\[\begin{split}\begin{array}{|c|l|}
 \hline
 \textbf{Tipo} &amp; \textbf{Descripción} \\
 \hline
 \text{DATE} &amp; \text{Fecha ANSI SQL &quot;aaaa-mm-dd&quot;.} \\
 \hline
 \text{TIMESTAMP} &amp; \text{Fecha y hora &quot;aaaa-mm-dd hh:mm:ss&quot;.} \\
 \hline
 \text{TIME} &amp; \text{Hora ANSI SQL &quot;hh:mm:ss&quot;.} \\
 \hline
\end{array}\end{split}\]</div>
<div class="section" id="ejemplo-practico">
<h3>Ejemplo práctico<a class="headerlink" href="#ejemplo-practico" title="Enlazar permanentemente con este título">¶</a></h3>
<p>A continuación se mostrarán ejemplos realizados con PostgreSQL de los tipos de
datos nombrados anteriormente.</p>
<ul>
<li><p class="first">Este ejemplo trata del juego adivina quién donde se realizan preguntas como:
tu personaje tiene gafas, es rubio, es alto. La tabla queda de la siguiente
manera utilizando los valores booleanos para crear las tablas:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">Adivina_quien</span><span class="p">(</span><span class="n">Personaje</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">GAFAS</span> <span class="n">BOOL</span><span class="p">,</span> <span class="n">RUBIO</span> <span class="n">BOOL</span><span class="p">,</span> <span class="n">ALTO</span> <span class="n">BOOL</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TABLE</span>
<span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">Adivina_quien</span><span class="p">(</span><span class="n">Personaje</span><span class="p">,</span><span class="n">GAFAS</span><span class="p">,</span><span class="n">RUBIO</span><span class="p">,</span><span class="n">ALTO</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;Tomas&#39;</span><span class="p">,</span><span class="k">true</span><span class="p">,</span><span class="k">false</span><span class="p">,</span><span class="k">true</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="n">postgres</span><span class="o">=#</span> <span class="k">SELECT</span><span class="o">*</span><span class="k">FROM</span> <span class="n">Adivina_quien</span><span class="p">;</span>
 <span class="n">personaje</span> <span class="o">|</span> <span class="n">gafas</span> <span class="o">|</span> <span class="n">rubio</span> <span class="o">|</span> <span class="n">alto</span>
<span class="c1">-----------+-------+-------+------</span>
 <span class="n">Tomas</span>     <span class="o">|</span> <span class="n">t</span>     <span class="o">|</span> <span class="n">f</span>     <span class="o">|</span> <span class="n">t</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">fila</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Se mostrará a continuación un ejemplo en que se utilicen los tipos de datos
<em>VARCHAR</em>, <em>CHAR</em> y <em>DATETIME</em>.</p>
<p><em>Creamos</em> la tabla persona con el id de tipo serial, nombre y apellido de tipo
<em>VARCHAR</em> con un largo variable hasta 25 carácteres, genero de tipo <em>CHAR</em> con
solo un carácter y la fecha de nacimiento que es un tipo de dato <em>DATETIME</em>.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">persona</span><span class="p">(</span><span class="n">id</span> <span class="nb">serial</span><span class="p">,</span> <span class="n">nombre</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span> <span class="n">apellido</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span> <span class="n">genero</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">fecha_nac</span> <span class="nb">DATE</span><span class="p">);</span>
</pre></div>
</div>
<p>Retornando lo siguiente PostgreSQL</p>
<div class="highlight-python"><pre>NOTICE:  CREATE TABLE creará una secuencia implícita «persona_id_seq» para la columna serial «persona.id»
CREATE TABLE</pre>
</div>
<p>Ahora <em>ingresamos</em> los datos de una persona:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">persona</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span><span class="n">apellido</span><span class="p">,</span><span class="n">genero</span><span class="p">,</span><span class="n">fecha_nac</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;Paul&#39;</span><span class="p">,</span><span class="s1">&#39;Anderson&#39;</span><span class="p">,</span><span class="s1">&#39;M&#39;</span><span class="p">,</span><span class="s1">&#39;1983-02-12&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="mi">0</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Finalmente <em>seleccionamos</em> la tabla para ver los datos que se ingresaron:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">persona</span><span class="p">;</span>
 <span class="n">id</span> <span class="o">|</span> <span class="n">nombre</span> <span class="o">|</span> <span class="n">apellido</span> <span class="o">|</span> <span class="n">genero</span> <span class="o">|</span> <span class="n">fecha_nac</span>
<span class="c1">----+--------+----------+--------+------------</span>
  <span class="mi">1</span> <span class="o">|</span> <span class="n">Paul</span>   <span class="o">|</span> <span class="n">Anderson</span> <span class="o">|</span> <span class="n">M</span>      <span class="o">|</span> <span class="mi">1983</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">12</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">fila</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Supongamos que en el siguiente ejemplo un alumno está registrando las notas de
sus ramos de la universidad en una tabla llamada <strong>notas</strong>, ingresando el nombre
del ramo como <em>VARCHAR</em> de un largo de 30 carácteres, nota_1 y nota_2 del tipo
<em>INTEGER</em> y finalmente su promedio de notas que es del tipo <em>FLOAT</em>.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">notas</span><span class="p">(</span><span class="n">id</span> <span class="nb">serial</span><span class="p">,</span> <span class="n">ramo</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">nota_1</span> <span class="nb">INTEGER</span><span class="p">,</span> <span class="n">nota_2</span> <span class="nb">INTEGER</span><span class="p">,</span> <span class="n">promedio</span> <span class="nb">FLOAT</span><span class="p">);</span>
</pre></div>
</div>
<p>Retornando PostgreSQL</p>
<div class="highlight-python"><pre>NOTICE:  CREATE TABLE creará una secuencia implícita «notas_id_seq» para la columna serial «notas.id»
CREATE TABLE</pre>
</div>
<p><em>Ingresando</em> datos</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">notas</span><span class="p">(</span><span class="n">ramo</span><span class="p">,</span><span class="n">nota_1</span><span class="p">,</span><span class="n">nota_2</span><span class="p">,</span><span class="n">promedio</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;Base de datos&#39;</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">46</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="mi">0</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Para ingresar un dato tipo <em>FLOAT</em>, el valor no lleva una <strong>&#8220;coma&#8221;</strong>, sino que un <strong>&#8220;punto&#8221;</strong></p>
</div>
</li>
<li><p class="first">Ahora se realizará el siguiente ejemplo en el que se <em>creará</em> la tabla
<strong>test_datatype</strong> con los tipos de datos <em>BIT(n)</em> y <em>BIT VARYING(n)</em>.
Que en este caso será data1 con un largo fijo de 4 y data2 con un largo variable
de 6.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">test_datatype_bit</span><span class="p">(</span><span class="n">data1</span> <span class="nb">BIT</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">data2</span> <span class="nb">BIT</span> <span class="nb">VARYING</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span>
<span class="k">CREATE</span> <span class="k">TABLE</span>
</pre></div>
</div>
<p>Se <em>ingresarán</em> los datos de la siguiente manera.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">test_datatype_bit</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">data2</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="n">B</span><span class="s1">&#39;1010&#39;</span><span class="p">,</span><span class="n">B</span><span class="s1">&#39;10110&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="mi">0</span> <span class="mi">1</span>
<span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">test_datatype_bit</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">data2</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="n">B</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="n">B</span><span class="s1">&#39;101101&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="mi">0</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Los siguientes datos ingresador retornaron un error puesto que no cumplen con el largo fijo y variable definido en la creación de la tabla <strong>test_datatype_bit</strong></p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">test_datatype_bit</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">data2</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="n">B</span><span class="s1">&#39;101&#39;</span><span class="p">,</span><span class="n">B</span><span class="s1">&#39;10110&#39;</span><span class="p">);</span>
<span class="n">ERROR</span><span class="p">:</span>  <span class="n">el</span> <span class="n">largo</span> <span class="n">de</span> <span class="n">la</span> <span class="n">cadena</span> <span class="n">de</span> <span class="n">bits</span> <span class="mi">3</span> <span class="k">no</span> <span class="n">coincide</span> <span class="n">con</span> <span class="n">el</span> <span class="n">tipo</span> <span class="nb">bit</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">test_datatype_bit</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">data2</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="n">B</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="n">B</span><span class="s1">&#39;1011011&#39;</span><span class="p">);</span>
<span class="n">ERROR</span><span class="p">:</span>  <span class="n">la</span> <span class="n">cadena</span> <span class="n">de</span> <span class="n">bits</span> <span class="n">es</span> <span class="n">demasiado</span> <span class="n">larga</span> <span class="n">para</span> <span class="n">el</span> <span class="n">tipo</span> <span class="nb">bit</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">En este ejemplo se utilizará el tipo de dato <em>SMALLINT</em> y <em>TIMESTAMP</em>. Se mostrará una tabla en que quedará registrado el ingreso de los trabajadores a la empresa.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">registro</span><span class="p">(</span><span class="n">id_registro</span> <span class="nb">serial</span><span class="p">,</span> <span class="n">nombre</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">apellido</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">ingreso</span> <span class="k">TIMESTAMP</span><span class="p">,</span> <span class="n">anos_trabajados</span> <span class="nb">SMALLINT</span><span class="p">);</span>
</pre></div>
</div>
<p>Retornando lo siguiente</p>
<div class="highlight-python"><pre>NOTICE:  CREATE TABLE creará una secuencia implícita «registro_id_registro_seq» para la columna serial «registro.id_registro»
CREATE TABLE</pre>
</div>
<p><em>Ingresamos</em> los datos del registro de la siguiente manera.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">registro</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span><span class="n">apellido</span><span class="p">,</span><span class="n">ingreso</span><span class="p">,</span><span class="n">anos_trabajados</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;Elliott&#39;</span><span class="p">,</span> <span class="s1">&#39;ALLEN&#39;</span><span class="p">,</span> <span class="s1">&#39;2012-10-23 14:05:08&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="mi">0</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Ahora realizamos una <em>selección</em> de la tabla <strong>registro</strong> para verificar como quedaron los datos que ingresamos.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">postgres</span><span class="o">=#</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">registro</span><span class="p">;</span>
 <span class="n">id_registro</span> <span class="o">|</span> <span class="n">nombre</span>  <span class="o">|</span> <span class="n">apellido</span> <span class="o">|</span>       <span class="n">ingreso</span>       <span class="o">|</span> <span class="n">anos_trabajados</span>
<span class="c1">-------------+---------+----------+---------------------+-----------------</span>
           <span class="mi">1</span> <span class="o">|</span> <span class="n">Elliott</span> <span class="o">|</span> <span class="n">ALLEN</span>    <span class="o">|</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">14</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">08</span> <span class="o">|</span>              <span class="mi">13</span>
<span class="p">(</span><span class="mi">1</span> <span class="n">fila</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">La diferencia entre INTEGER y SMALLINT no se puede notar en este tipo de ejemplos, pero INTEGER soporta -2147483648 a +2147483647 y SMALLINT -32768 a +32767.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="referencias">
<h2>Referencias<a class="headerlink" href="#referencias" title="Enlazar permanentemente con este título">¶</a></h2>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><a class="reference external" href="http://www.postgresql.org/docs/8.1/static/datatype.html">http://www.postgresql.org/docs/8.1/static/datatype.html</a></td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li><a href="../../index.html">Curso SQL</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Computer Systems Research Group (CSRG), UTFSM.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>