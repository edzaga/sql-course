

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lectura 4 - Álgebra Relacional: Set operators, renaming, notation &mdash; Curso ALMA SQL</title>
    
    <link rel="stylesheet" href="../../_static/sqlcourse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Curso ALMA SQL" href="../../index.html" />
    <link rel="up" title="Primera Semana" href="index.html" />
    <link rel="next" title="Tarea 1" href="assignment1.html" />
    <link rel="prev" title="Lectura 3 - Álgebra Relacional: Select, Project, Join" href="lecture3.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="assignment1.html" title="Tarea 1"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="lecture3.html" title="Lectura 3 - Álgebra Relacional: Select, Project, Join"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">Curso SQL</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Primera Semana</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/alma200.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Contenidos</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lectura 4 - Álgebra Relacional: Set operators, renaming, notation</a><ul>
<li><a class="reference internal" href="#operaciones-de-conjunto">Operaciones de conjunto:</a><ul>
<li><a class="reference internal" href="#union">Unión</a><ul>
<li><a class="reference internal" href="#ejemplo">Ejemplo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#diferencia">Diferencia</a><ul>
<li><a class="reference internal" href="#id1">Ejemplo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interseccion">Intersección</a><ul>
<li><a class="reference internal" href="#id2">Ejemplo</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#operaciones-dependientes-e-independientes">Operaciones dependientes e independientes</a></li>
<li><a class="reference internal" href="#algebra-relacional-como-idioma-restrictor">Álgebra relacional como idioma restrictor</a><ul>
<li><a class="reference internal" href="#ejercicios-propuestos">Ejercicios Propuestos</a><ul>
<li><a class="reference internal" href="#ejercicio-1">Ejercicio 1</a></li>
<li><a class="reference internal" href="#ejercicio-2">Ejercicio 2</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="lecture3.html"
                        title="Capítulo anterior">Lectura 3 - Álgebra Relacional: Select, Project, Join</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="assignment1.html"
                        title="Próximo capítulo">Tarea 1</a></p>
  <h3>Esta página</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lectures/week1/lecture4.txt"
           rel="nofollow">Enseñar el código</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Búsqueda rápida</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Introduzca los términos de búsqueda o un módulo, clase o nombre de función.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lectura-4-algebra-relacional-set-operators-renaming-notation">
<h1>Lectura 4 - Álgebra Relacional: Set operators, renaming, notation<a class="headerlink" href="#lectura-4-algebra-relacional-set-operators-renaming-notation" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="operaciones-de-conjunto">
<h2>Operaciones de conjunto:<a class="headerlink" href="#operaciones-de-conjunto" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="union">
<span id="index-0"></span><h3>Unión<a class="headerlink" href="#union" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En matemáticas, se denomina <strong>álgebra de conjuntos</strong> a las operaciones básicas que pueden
realizarse con conjuntos, como la unión, intersección, etc. Un <strong>conjunto</strong> es una colección
de objetos considerada como un objeto en sí. La <tt class="docutils literal"><span class="pre">Unión</span></tt> de dos conjuntos <span class="math">\(\text{A}\)</span> y <span class="math">\(\text{B}\)</span> es el
conjunto que contiene todos los elementos de <span class="math">\(\text{A}\)</span> y de <span class="math">\(\text{B}\)</span>.
El símbolo <span class="math">\(\cup\)</span> es el utilizado para representar <tt class="docutils literal"><span class="pre">Unión</span></tt>.</p>
<p>El operador <tt class="docutils literal"><span class="pre">Unión</span></tt> es <strong>conmutativo</strong> es decir  <span class="math">\(\text{A} \cup \text{B} = \text{B} \cup \text{A}\)</span>. Cabe recordar que una
operación es <strong>conmutativa</strong> cuando el resultado de la operación es el mismo, cualquiera que sea
el orden de los elementos con los que se opera.</p>
<img alt="../../_images/union.png" class="align-center" src="../../_images/union.png" />
<p>De manera análoga, la <tt class="docutils literal"><span class="pre">Unión</span></tt> de dos relaciones <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span>, es otra relación que contiene
las tuplas que están en <span class="math">\(\text{R}\)</span>, o en <span class="math">\(\text{S}\)</span>, o en ambas, eliminándose las tuplas duplicadas.
<span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> deben ser <strong>unión-compatible</strong>, es decir, definidas sobre el mismo conjunto de
atributo (<span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> deben tener <strong>esquemas idénticos</strong>. Deben poseer las mismas columnas
y su orden debe ser el mismo).</p>
<p><strong>Notación en álgebra relacional</strong></p>
<div class="math">
\[\begin{split}\text{R} \cup \text{S} \\\end{split}\]</div>
<p>Si se realiza <span class="math">\(\text{R} \cup \text{S}\)</span> es lo mismo que  <span class="math">\(\text{S} \cup \text{R}\)</span> , es decir se obtiene el mismo
resultado. Esto debido a la propiedad de conmutatividad derivada de la álgebra de conjuntos.</p>
<div class="section" id="ejemplo">
<h4>Ejemplo<a class="headerlink" href="#ejemplo" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Dadas las siguientes relaciones:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}  \begin{array}{|c|c|c|}
       \hline
        \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad}\\
       \hline
       123 &amp; \text{Leon}   &amp; 39\\
       \hline
       234 &amp; \text{Tomas}  &amp; 34\\
       \hline
       345 &amp; \text{Jose}   &amp; 45\\
       \hline
       143 &amp; \text{Josefa} &amp; 25\\
       \hline
  \end{array}\end{split}\]</div>
<div class="math">
\[\begin{split}\textbf{Tabla Jefes} \\\end{split}\]\[\begin{split}     \begin{array}{|c|c|c|}
       \hline
        \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad}\\
       \hline
       123 &amp; \text{Leon}   &amp; 39\\
       \hline
       235 &amp; \text{Maria}   &amp; 29\\
       \hline
     \end{array}\end{split}\]</div>
<p>Aplicar el operador <tt class="docutils literal"><span class="pre">Unión</span></tt>:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \cup  \textbf{Jefes}  \\\end{split}\]\[\begin{split}  \begin{array}{|c|c|c|}
       \hline
        \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad}\\
       \hline
       123 &amp; \text{Leon}   &amp; 39\\
       \hline
       234 &amp; \text{Tomas}  &amp; 34\\
       \hline
       345 &amp; \text{Jose}   &amp; 45\\
       \hline
       143 &amp; \text{Josefa} &amp; 25\\
       \hline
       235 &amp; \text{Maria} &amp; 29\\
       \hline
  \end{array}\end{split}\]</div>
<p>Como se mencionó anteriormente, realizar la operación <span class="math">\(\text{Jefes} \cup \text{Ingenieros}\)</span>
daría como resultado la misma tabla anterior, debido a la propiedad de conmutatividad.</p>
</div>
</div>
<div class="section" id="diferencia">
<h3>Diferencia<a class="headerlink" href="#diferencia" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Volviendo a la analogía de álgebra de conjuntos, la diferencia entre dos conjuntos
<span class="math">\(\text{A}\)</span> y <span class="math">\(\text{B}\)</span> es el conjunto que contiene todos los elementos de <span class="math">\(\text{A}\)</span> que no pertenecen a <span class="math">\(\text{B}\)</span>.</p>
<div class="math">
\[A-B\]</div>
<img alt="../../_images/a-b.png" class="align-center" src="../../_images/a-b.png" />
<div class="math">
\[B-A\]</div>
<img alt="../../_images/b-a.png" class="align-center" src="../../_images/b-a.png" />
<p>Como se aprecia en las imágenes la operación <tt class="docutils literal"><span class="pre">Diferencia</span></tt>, en conjuntos, no es
conmutativa, al igual que la resta o sustracción, operador aprendido en aritmética
básica. Es decir, si se cambia el orden de los conjuntos a los  que se aplica la
operación <tt class="docutils literal"><span class="pre">Diferencia</span></tt>, se obtendrán resultados distintos. Por lo tanto:</p>
<div class="math">
\[\text{A} - \text{B} \neq  \text{B} - \text{A}\]</div>
<p>De la misma forma la diferencia de dos relaciones <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span>, es otra relación
que contiene las tuplas que están en la relación <span class="math">\(\text{R}\)</span>, pero no están en <span class="math">\(\text{S}\)</span>.
<span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> deben ser <strong>unión-compatible</strong> (deben tener esquemas idénticos).</p>
<p><strong>Notación en álgebra relacional</strong></p>
<div class="math">
\[R - S\]</div>
<p>Es importante resaltar que <span class="math">\(\text{R} - \text{S}\)</span> es diferente a <span class="math">\(\text{S} - \text{R}\)</span>.</p>
<div class="section" id="id1">
<h4>Ejemplo<a class="headerlink" href="#id1" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Empleando las mismas tablas dadas en el ejemplo anterior, realice <span class="math">\(\text{Ingenieros} - \text{Jefes}\)</span>
y <span class="math">\(\text{Jefes} - \text{Ingenieros}\)</span>:</p>
<div class="math">
\[\begin{split}\textbf{Ingenieros - Jefes} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|}
     \hline
      \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad}\\
     \hline
     234 &amp; \text{Tomas}  &amp; 34\\
     \hline
     345 &amp; \text{Jose}   &amp; 45\\
     \hline
     143 &amp; \text{Josefa} &amp; 25\\
     \hline
\end{array}\end{split}\]</div>
<div class="math">
\[\begin{split}\textbf{Jefes - Ingenieros} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|}
     \hline
     \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad}\\
     \hline
     235 &amp; \text{Maria} &amp; 29\\
     \hline
\end{array}\end{split}\]</div>
<p>Como se puede apreciar, ambas operaciones dieron como resultado distintas relaciones,
tal como se había mencionado anteriormente.</p>
</div>
</div>
<div class="section" id="interseccion">
<h3>Intersección<a class="headerlink" href="#interseccion" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En  álgebra de conjuntos la <tt class="docutils literal"><span class="pre">Intersección</span></tt> de dos conjuntos <span class="math">\(\text{A}\)</span> y <span class="math">\(\text{B}\)</span> es el conjunto
que contiene todos los elementos comunes de <span class="math">\(\text{A}\)</span> y <span class="math">\(\text{B}\)</span>. El símbolo <span class="math">\(\cap\)</span> representa
la <tt class="docutils literal"><span class="pre">Intersección</span></tt> de dos conjuntos. Al igual que el operador <tt class="docutils literal"><span class="pre">Unión</span></tt>, <tt class="docutils literal"><span class="pre">Intersección</span></tt>
es conmutativo, entonces se cumple que <span class="math">\(\text{A} \cap \text{B} = \text{B} \cap \text{A}\)</span> .</p>
<div class="math">
\[\text{A} \cap \text{B}\]</div>
<img alt="../../_images/inter.png" class="align-center" src="../../_images/inter.png" />
<p>De forma homóloga en álgebra relacional, <tt class="docutils literal"><span class="pre">Intersección</span></tt> define una relación que contiene
las tuplas que están tanto en la relación <span class="math">\(\text{R}\)</span> como en <span class="math">\(\text{S}\)</span>. <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> deben ser <strong>unión-compatible</strong>
(mismos atributos y mismo orden).</p>
<p><strong>Notación en algebra relacional</strong></p>
<div class="math">
\[\text{R} \cap \text{S}\]</div>
<p>Si se realiza <span class="math">\(\text{R} \cap \text{S}\)</span> es lo mismo que <span class="math">\(\text{S} \cap \text{R}\)</span>, es decir se obtiene el mismo resultado,
se puede decir que <tt class="docutils literal"><span class="pre">Intersección</span></tt> <strong>es conmutativa</strong>.</p>
<p><strong>Equivalencia con operadores anteriores</strong></p>
<div class="math">
\[\text{R} \cap \text{S}= \text{R}-(\text{R}-\text{S})\]</div>
<div class="section" id="id2">
<h4>Ejemplo<a class="headerlink" href="#id2" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Utilizando las mismas tablas del ejemplo anterior, encontrar la <tt class="docutils literal"><span class="pre">Intersección</span></tt> de la tabla de
<span class="math">\(\text{Ingenieros}\)</span> con la de <span class="math">\(\text{Jefes}\)</span>:</p>
<div class="math">
\[\text{Ingenieros} \cap \text{Jefes}\]\[\begin{split}  \begin{array}{|c|c|c|}
    \hline
     \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad}\\
    \hline
    123 &amp; \text{Leon}   &amp; 39\\
    \hline
  \end{array}\end{split}\]</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p>Para aplicar estas operaciones a relaciones, necesitamos que <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> sean <strong>unión-compatible</strong>:</p>
<blockquote class="last">
<div><ul class="simple">
<li><span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> deben tener esquemas con conjuntos de atributos idénticos, y de tipos (dominios) para cada atributo deben ser las mismas en <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span>.</li>
<li>Antes de computar el conjunto-teórico unión, intersección, o diferencia de conjuntos de tuplas, las columnas de <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> deben ser ordenadas para que el orden de los atributos sean los mismos para ambas relaciones.</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>
<div class="section" id="operaciones-dependientes-e-independientes">
<h2>Operaciones dependientes e independientes<a class="headerlink" href="#operaciones-dependientes-e-independientes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Algunas de las operaciones que se han descrito en las lecturas 3 y 4, pueden ser expresadas
en términos de operadores de algebra relacional.
Por ejemplo, la intersección puede ser expresada en términos de conjuntos de diferencia:
<span class="math">\(\text{R} \cap \text{S} = \text{R} - (\text{R} - \text{S})\)</span>. Es decir, si <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> son
dos relaciones con el mismo esquema, la intersección de <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> puede ser resuelta
restando primero <span class="math">\(\text{S}\)</span> de <span class="math">\(\text{R}\)</span> para formar una relación <span class="math">\(T\)</span> que consiste en todas aquellas
tuplas en <span class="math">\(\text{R}\)</span> pero no en <span class="math">\(\text{S}\)</span>. Cuando se resta <span class="math">\(\text{T}\)</span> de <span class="math">\(\text{R}\)</span>, dejamos solo esas tuplas de <span class="math">\(\text{R}\)</span> que están también en <span class="math">\(\text{S}\)</span>.</p>
</div>
<div class="section" id="algebra-relacional-como-idioma-restrictor">
<h2>Álgebra relacional como idioma restrictor<a class="headerlink" href="#algebra-relacional-como-idioma-restrictor" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Hay dos maneras en las cuales podemos usar expresiones de algebra relacional para expresar restricción:</p>
<blockquote>
<div><p>1. Si <span class="math">\(\text{R}\)</span> es una expresión de algebra relacional, entonces <span class="math">\(\text{R} = 0\)</span> es una restricción que dice
“El valor de <span class="math">\(\text{R}\)</span> debe ser vacio,” o equivalentemente “No hay tuplas en el resultado de <span class="math">\(\text{R}\)</span>.&#8221;</p>
<p>2. Si <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> son expresiones de algebra relacional, entonces <span class="math">\(\text{R} \subset \text{S}\)</span> es una restricción
que dice “Cada tupla en resultado de <span class="math">\(\text{R}\)</span> debe estar también en resultado de <span class="math">\(\text{S}\)</span>.&#8221; Por supuesto, el
resultado de <span class="math">\(\text{S}\)</span> puede contener tuplas adicionales no producidas en <span class="math">\(\text{R}\)</span>.</p>
</div></blockquote>
<p>Estas formas para expresar restricción son de hecho equivalentes en lo que pueden expresar, pero algunas
veces uno de los dos es más clara o más sucinta. Es decir, la restricción <span class="math">\(\text{R} \subset \text{S}\)</span> pudo también ser
escrito <span class="math">\(\text{R} - \text{S} = 0\)</span>. Para ver por qué, observe que si cada tupla en <span class="math">\(\text{R}\)</span> está también en <span class="math">\(\text{S}\)</span>, entonces
seguramente <span class="math">\(\text{R} - \text{S}\)</span> es vacío. A la inversa, si <span class="math">\(\text{R} - \text{S}\)</span> no contiene tuplas, entonces cada tupla en <span class="math">\(\text{R}\)</span>
debe estar en <span class="math">\(\text{S}\)</span> (o de lo que sería <span class="math">\(\text{R} - \text{S}\)</span>).</p>
<p>Por otra parte, una restricción de la primera forma, <span class="math">\(\text{R} = 0\)</span>, también pudo haber sido escrita como
<span class="math">\(\text{R} \subset 0\)</span>. Técnicamente, <span class="math">\(0\)</span> no es una expresión de algebra relacional, pero ya que hay expresiones
que evalúan a <span class="math">\(0\)</span>, tal como <span class="math">\(\text{R} - \text{R}\)</span>, no hay nada malo en usar <span class="math">\(0\)</span> como una expresión de algebra relacional.
Tenga en cuenta que estas equivalencias sostienen se sostienen incluso si <span class="math">\(\text{R}\)</span> y <span class="math">\(\text{S}\)</span> son bolsas, dado que
hacemos la interpretación convencional de <span class="math">\(\text{R} \subset \text{S}\)</span>: cada tupla <span class="math">\(t\)</span> aparece en <span class="math">\(\text{S}\)</span> al menos tantas
veces como aparece en <span class="math">\(\text{R}\)</span>.</p>
<div class="section" id="ejercicios-propuestos">
<h3>Ejercicios Propuestos<a class="headerlink" href="#ejercicios-propuestos" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="section" id="ejercicio-1">
<h4>Ejercicio 1<a class="headerlink" href="#ejercicio-1" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Las relaciones base que forman la base de datos de un video club son las siguientes:</p>
<ul class="simple">
<li><span class="math">\(\text{Socio}(\underline{\text{codsocio}},\text{nombre,direccion,telefono})\)</span>: almacena los datos de cada uno de los socios del video club: código del socio, nombre, dirección y teléfono.</li>
<li><span class="math">\(\text{Pelicula}(\underline{\text{codpeli}},\text{titulo,genero})\)</span>: almacena información sobre cada una de las películas de las cuales tiene copias el vídeo club: código de la película, título y género (terror, comedia, etc.).</li>
<li><span class="math">\(\text{Cinta}(\underline{\text{codcinta}},\text{codpeli})\)</span>: almacena información referente a las copias que hay de cada película (copias distintas de una misma película tendrán distinto código de cinta).</li>
<li><span class="math">\(\text{Prestamo}(\underline{\text{codsocio,codcinta,fecha}},\text{presdev})\)</span>: almacena información de los préstamos que se han realizado. Cada préstamo es de una cinta a un socio en una fecha. Si el préstamo aún no ha finalizado, presdev tiene el valor &#8216;prestada&#8217;; si no su valor es &#8216;devuelta&#8217;.</li>
<li><span class="math">\(\text{ListaEspera}(\underline{\text{codsocio,codpeli}},\text{fecha})\)</span>: almacena información sobre los socios que esperan a que haya copias disponibles de películas, para tomarlas prestadas. Se guarda también la fecha en que comenzó la espera para mantener el orden. Es importante tener en cuenta que cuando el socio consigue la película esperada, éste desaparece de la lista de espera.</li>
</ul>
<p>En las relaciones anteriores, son claves primarias los atributos y grupos de atributos que aparecen en negrita. Las claves ajenas se muestran en los siguientes diagramas referenciales:</p>
<p>Resolver las siguientes consultas mediante el álgebra relacional (recuerde que en la lectura 3 también se dieron algunos operadores de álgebra relacional):</p>
<p>1.1. Seleccionar todos los socios que se llaman: &#8220;Charles&#8221;.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\sigma_{\text{nombre='Charles'}} \text{(Socio)}\]</div>
<p>1.2. Seleccionar el código socio de todos los socios que se llaman: &#8220;Charles&#8221;.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\pi_{\text{codsocio}}(\sigma_{\text{nombre='Charles'}} \text{(Socio))}\]</div>
<p>1.3. Seleccionar los nombres de las películas que se encuentran en lista de espera.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\pi_{\text{titulo}}(\text{Pelicula} \rhd \hspace{-0.1cm} \lhd \text{ListaEspera})\]</div>
<p>1.4. Obtener los nombres de los socios que esperan películas.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\pi_{\text{nombre}}(\text{Socio} \rhd \hspace{-0.1cm} \lhd \text{ListaEspera})\]</div>
<p>1.5. Obtener los nombres de los socios que tienen actualmente prestada una película que ya tuvieron prestada con anterioridad.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\pi_{\text{nombre}} ( \{(\text{Prestamo} \rhd \hspace{-0.1cm} \lhd_{ (\text{presdev='prestada'})} \text{Cinta}) \cap (\text{Prestamo} \rhd \hspace{-0.1cm} \lhd_{(\text{presdev='devuelta'})} \text{Cinta})\} \rhd \hspace{-0.1cm}\lhd \text{Socio})\]</div>
<p>1.6. Obtener los títulos de las películas que nunca han sido prestadas.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\pi_{\text{titulo}} \{(\pi_{\text{codpeli}} \text{Pelicula}  - \pi_{\text{codpeli}} (\text{Prestamo} \rhd \hspace{-0.1cm} \lhd \text{Cinta}) ) \rhd \hspace{-0.1cm} \lhd \text{Pelicula}\}\]</div>
<p>(todas las películas) menos (las películas que han sido prestadas alguna vez)</p>
<p>1.7. Obtener los nombres de los socios que han tomado prestada la película “WALL*E” alguna  vez o que están esperando para tomarla prestada.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\begin{split}\pi_{\text{codsocio,nombre}}((\text{Socio} \rhd \hspace{-0.1cm} \lhd \text{Prestamo} \rhd \hspace{-0.1cm} \lhd \text{Cinta} \rhd \hspace{-0.1cm} \lhd_{\text{titulo='WALL*E'}} \text{Pelicula}) \cup \\ (\text{Socio} \rhd \hspace{-0.1cm} \lhd \text{ListaEspera} \rhd \hspace{-0.1cm} \lhd_{\text{titulo='WALL*E'}} \text{Pelicula}) )\end{split}\]</div>
<p>1.8. Obtener los nombres de los socios que han tomado prestada la película “WALL*E” alguna vez y que además están en su lista de espera.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\begin{split}\pi_{\text{codsocio,nombre}}((\text{Socio} \rhd \hspace{-0.1cm} \lhd \text{Prestamo} \rhd \hspace{-0.1cm} \lhd \text{Cinta} \rhd \hspace{-0.1cm} \lhd_{\text{titulo='WALL*E'}} \text{Pelicula}) \cap \\ (\text{Socio} \rhd \hspace{-0.1cm} \lhd \text{ListaEspera} \rhd \hspace{-0.1cm} \lhd_{\text{titulo='WALL*E'}} \text{Pelicula}) )\end{split}\]</div>
</div>
<div class="section" id="ejercicio-2">
<h4>Ejercicio 2<a class="headerlink" href="#ejercicio-2" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Considere la base de datos con el siguiente esquema:</p>
<blockquote>
<div><ol class="arabic simple">
<li><span class="math">\(\text{Persona}(\underline{\text{nombre}} \text{, edad, genero})\)</span> : nombre es la clave.</li>
<li><span class="math">\(\text{Frecuenta}(\underline{\text{nombre, pizzeria}})\)</span> : (nombre, pizzeria) es la clave.</li>
<li><span class="math">\(\text{Come}(\underline{\text{nombre, pizza}})\)</span> : (name, pizza) es la clave.</li>
<li><span class="math">\(\text{Sirve}(\underline{\text{pizzeria, pizza}}\text{, precio})\)</span>: (pizzeria, pizza) es la clave.</li>
</ol>
</div></blockquote>
<p>Escribir las expresiones de álgebra relacional para las siguientes nueve consultas. (Precaución: algunas de las siguientes consultas son un poco desafiantes).</p>
<blockquote>
<div><ul class="simple">
<li>Encuentre todas las pizzerías frecuentadas por al menos una persona menor de 18 años.</li>
<li>Encuentre los nombres de todas las mujeres que comen pizza ya sea con champiñones o salchichón (o ambas).</li>
<li>Encuentre los nombres de todas las mujeres que comen pizzas con los dos ingredientes, champiñones y salchichón.</li>
<li>Encuentre todas las pizzerías que sirven al menos una pizza que Amy come por menos de 10 dólares.</li>
<li>Encuentre todas las pizzerías que son frecuentadas por solo mujeres o solo hombres.</li>
<li>Para cada persona, encuentre todas las pizzas que la persona come, que no son servidas por ninguna pizzería que la persona frecuenta. Devuelve toda dicha persona (nombre)/ pizza pares.</li>
<li>Encuentre los nombres de todas las personas que frecuentan solo pizzerías que sirven al menos una pizza que ellos comen.</li>
<li>Encuentre la pizzería que sirve la pizza más barata de salchichón. En el caso de empate, vuelve todas las pizzerías que venden las pizzas de salchichón más baratas.</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="assignment1.html" title="Tarea 1"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="lecture3.html" title="Lectura 3 - Álgebra Relacional: Select, Project, Join"
             >anterior</a> |</li>
        <li><a href="../../index.html">Curso SQL</a> &raquo;</li>
          <li><a href="index.html" >Primera Semana</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Computer Systems Research Group (CSRG), UTFSM.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>