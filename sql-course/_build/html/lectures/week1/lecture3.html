

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lectura 3 - Álgebra Relacional: Select, Project, Join &mdash; Curso ALMA SQL</title>
    
    <link rel="stylesheet" href="../../_static/sqlcourse.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Curso ALMA SQL" href="../../index.html" />
    <link rel="up" title="Primera Semana" href="index.html" />
    <link rel="next" title="Lectura 4 - Álgebra Relacional: Set operators, renaming, notation" href="lecture4.html" />
    <link rel="prev" title="Lectura 2 - Bases de datos relacionales: Consulta de bases de datos relacionales" href="lecture2.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="lecture4.html" title="Lectura 4 - Álgebra Relacional: Set operators, renaming, notation"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="lecture2.html" title="Lectura 2 - Bases de datos relacionales: Consulta de bases de datos relacionales"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">Curso SQL</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Primera Semana</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/alma200.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Contenidos</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lectura 3 - Álgebra Relacional: Select, Project, Join</a><ul>
<li><a class="reference internal" href="#conceptos-basicos-de-algebra-relacional">Conceptos básicos de álgebra relacional</a></li>
<li><a class="reference internal" href="#operaciones-relacionales">Operaciones relacionales:</a><ul>
<li><a class="reference internal" href="#seleccion-select">SELECCIÓN (SELECT)</a><ul>
<li><a class="reference internal" href="#ejemplo-1">Ejemplo 1</a></li>
<li><a class="reference internal" href="#ejemplo-2">Ejemplo 2</a><ul>
<li><a class="reference internal" href="#al-tener-el-operador-logico-and-se-pide-que-cumplan-dos-condiciones-simultaneamente-primero-que-la-edad-sea-mayor-de-30-anos-al-igual-que-en-el-ejemplo-anterior-la-tupla-de-josefa-queda-fuera-de-la-seleccion-luego-de-las-tuplas-que-quedan-se-evalua-la-segunda-condicion-en-la-imagen-se-aprecia-que-solo-se-seleccionan-las-filas-que-no-tengan-x-en-alguna-de-las-condiciones">Al tener el operador lógico AND se pide que cumplan dos condiciones simultáneamente. Primero que la edad sea mayor de 30 años, al igual que en el ejemplo anterior, la tupla de &#8220;Josefa&#8221; queda fuera de la selección. Luego de las tuplas que quedan se evalúa la segunda condición. En la imagen se aprecia, que solo se seleccionan las filas que no tengan x en alguna de las condiciones.</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#project">PROJECT</a><ul>
<li><a class="reference internal" href="#id1">Ejemplo 1</a></li>
<li><a class="reference internal" href="#id2">Ejemplo 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cross-product">CROSS-PRODUCT</a><ul>
<li><a class="reference internal" href="#id3">Ejemplo 1</a></li>
<li><a class="reference internal" href="#id4">Ejemplo 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#naturaljoin">NATURALJOIN</a><ul>
<li><a class="reference internal" href="#id5">Ejemplo 1</a></li>
<li><a class="reference internal" href="#id6">Ejemplo 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#thetajoin">THETAJOIN</a><ul>
<li><a class="reference internal" href="#id7">Ejemplo 1</a></li>
<li><a class="reference internal" href="#id8">Ejemplo 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ejercicio-propuesto">EJERCICIO PROPUESTO</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="lecture2.html"
                        title="Capítulo anterior">Lectura 2 - Bases de datos relacionales: Consulta de bases de datos relacionales</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="lecture4.html"
                        title="Próximo capítulo">Lectura 4 - Álgebra Relacional: Set operators, renaming, notation</a></p>
  <h3>Esta página</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/lectures/week1/lecture3.txt"
           rel="nofollow">Enseñar el código</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Búsqueda rápida</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lectura-3-algebra-relacional-select-project-join">
<h1>Lectura 3 - Álgebra Relacional: Select, Project, Join<a class="headerlink" href="#lectura-3-algebra-relacional-select-project-join" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="conceptos-basicos-de-algebra-relacional">
<h2>Conceptos básicos de álgebra relacional<a class="headerlink" href="#conceptos-basicos-de-algebra-relacional" title="Enlazar permanentemente con este título">¶</a></h2>
<p id="index-0">Algebra, en general, consiste de operadores y operandos atómicos. Por ejemplo,
en el álgebra de la aritmética, los operandos atómicos son variable como <span class="math">\(r\)</span>,
y constantes como 15.
Los operadores son los usuales en la aritmética:</p>
<blockquote>
<div><ul class="simple">
<li>Suma</li>
<li>Resta</li>
<li>Multiplicación</li>
<li>División.</li>
</ul>
</div></blockquote>
<p>Cualquier álgebra nos permite construir expresiones mediante la aplicación de
operadores a operandos atómicos y/o otras expresiones del álgebra. En general,
los paréntesis son necesarios para agrupar operadores y sus operandos. Por ejemplo,
en aritmética tenemos expresiones tales como <span class="math">\((x + y) * z\)</span> ó <span class="math">\(((x + 7)/(y - 3)) + x\)</span>.</p>
<p>El Álgebra Relacional es otro ejemplo del álgebra. Sus operandos atómicos son:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Variables que representan relaciones.</li>
<li>Constantes que son relaciones finitas.</li>
</ol>
</div></blockquote>
<p>Como mencionamos, en el álgebra relacional clásica, todos los operandos y sus resultados
de expresiones son conjuntos. Los operadores del álgebra relacional tradicional se divide
en cuatro grandes categorías:</p>
<blockquote>
<div>a. Los conjuntos habituales de operaciones <em>unión, intersección, y diferencia</em>
se aplica a las relaciones.
b. Las operaciones que eliminan parte de una relación: “selección” elimina
algunas filas (tuplas), y “proyección” elimina algunas columnas.
c. Las operaciones que combinan las tuplas de dos relaciones, como el “producto cartesiano,”
que empareja las tuplas de dos relaciones en todas las maneras posibles y varios tipos de
operadores “unión”, los cuales forman parejas de tuplas de dos relaciones selectivamente.
d. Una operación llama “renombrar” que no afecta las tuplas de una relación, pero que
cambia el esquema de relación, es decir, lo nombres de los atributos y/o los
nombres de la relación misma.</div></blockquote>
<p>Debemos por lo general referirnos a las expresiones del álgebra relacional como consultas.
A pesar de que aún no tengan los símbolos necesarios para mostrar muchas de las expresiones
del algebra relacional, se debería familiarizar con las operaciones de grupo <span class="math">\((a)\)</span>;
y por lo tanto reconocer:</p>
<div class="math">
\[\begin{split}R \cup S \\\end{split}\]</div>
<p>como un ejemplo de una expresión de álgebra relacional. Donde <span class="math">\(R\)</span> y <span class="math">\(S\)</span> son operandos
atómicos para relaciones, cuyos conjuntos de tuplas son desconocidas.
Esta consulta pregunta por la unión de cualquiera tuplas que están en las relaciones
nombradas <span class="math">\(R\)</span> y <span class="math">\(S\)</span>.</p>
<p>Las tres operaciones más comunes en conjuntos son unión, intersección, y diferencia,
que serán vistas en la lectura 4.</p>
</div>
<div class="section" id="operaciones-relacionales">
<h2>Operaciones relacionales:<a class="headerlink" href="#operaciones-relacionales" title="Enlazar permanentemente con este título">¶</a></h2>
<p id="index-1">Los operadores relacionales se utilizan para filtrar, cortar o combinar tablas.</p>
<div class="section" id="seleccion-select">
<h3>SELECCIÓN (SELECT)<a class="headerlink" href="#seleccion-select" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Este operador se aplica a una relación <span class="math">\(R\)</span> produciendo una nueva relación con un
subconjunto de tuplas de <span class="math">\(R\)</span>. Las tuplas de la relación resultante son las que
satisfacen una condición <span class="math">\(C\)</span> sobre algún atributo de <span class="math">\(R\)</span>. Es decir selecciona <strong>filas</strong>
de una tabla según un cierto criterio <span class="math">\(C\)</span>. <span class="math">\(C\)</span> es una expresión condicional, similar
a las declaraciones del tipo “if”, es “booleana” esto quiere decir que para cada
tupla de <span class="math">\(R\)</span> toma el valor Verdad o Falso.</p>
<ul>
<li><p class="first">Valores de atributos con NULL no cumplirán ninguna condición.</p>
</li>
<li><p class="first">Cada condición simple o cláusula C tiene el formato:</p>
<div class="math">
\[\begin{split}\text{&lt;Atributo&gt; &lt;Comparador&gt; &lt;Atributo o Constante del Dominio&gt;}\end{split}\]</div>
<p>donde:</p>
<div class="math">
\[\begin{split}\text{&lt;Comparador&gt;}  \in {\{=,\geq,&gt;,&lt;, \neq,\leq \}}\end{split}\]</div>
</li>
<li><p class="first">Las cláusulas C pueden conectarse con los operadores lógicos:</p>
<ul>
<li><p class="first"><strong>NOT</strong>: El operador NOT denota una salida verdadera si la entrada es falsa,
y una salida falsa si la entrada es verdadera. Su notación en algebra es:</p>
<blockquote>
<div><div class="math">
\[¬ C1\]</div>
</div></blockquote>
</li>
<li><p class="first"><strong>AND</strong>: El operador AND denota una salida verdadera si y sólo si sus entradas
son verdaderas. Si C1 se cumple y C2 también se cumple, la salida seré verdadera.
La notación en algebra de un AND es:</p>
<blockquote>
<div><div class="math">
\[C1 \wedge C2\]</div>
</div></blockquote>
</li>
<li><p class="first"><strong>OR</strong>: El operador OR denota una salida verdadera si hay alguna de las entradas
(o ambas) verdaderas. Si C1 y/o C2 es o son verdaderas, la expresión será verdadera.
La notación en algebra de un OR es:</p>
<blockquote>
<div><div class="math">
\[C1 \vee C2\]</div>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<p><strong>Notación en Álgebra Relacional</strong></p>
<p>Para representar SELECT en álgebra relacional se utiliza la letra griega sigma
<span class="math">\(\sigma\)</span>. Por lo tanto, si utilizamos la notación
<span class="math">\(\sigma_{c} \ \boldsymbol{R}\)</span> queremos decir que se aplica la condición
<span class="math">\(C\)</span> a cada tupla de <span class="math">\(R\)</span>. Si la condición es Verdad (true),
dicha tupla pertenecerá al resultado y si es Falsa (false), dicha tupla no será seleccionada.
El esquema de la relación resultante es el mismo esquema <span class="math">\(R\)</span>, se muestran los
atributos en el mismo orden que se usan en la tabla <span class="math">\(R\)</span>.</p>
<div class="section" id="ejemplo-1">
<h4>Ejemplo 1<a class="headerlink" href="#ejemplo-1" title="Enlazar permanentemente con este título">¶</a></h4>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}  \begin{array}{|c|c|c|c|}
   \hline
   \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad} &amp; \textbf{añosTrabajados(AT)}\\
   \hline
   123 &amp; \text{Leon} &amp; 39 &amp; 15 \\
   \hline
   234 &amp; \text{Tomas} &amp; 34 &amp; 10 \\
   \hline
   345 &amp; \text{Jose} &amp; 45 &amp; 21 \\
   \hline
   143 &amp; \text{Josefa} &amp; 25 &amp;  1 \\
   \hline
 \end{array}\end{split}\]</div>
<p>Seleccionar las tuplas de la tabla <strong>Ingenieros</strong> que cumplan con tener una edad
mayor a 30 años:</p>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\begin{split}\sigma_{\text{edad&gt;30}} \hspace{0.2cm} \text{Ingenieros}\end{split}\]</div>
<img alt="../../_images/select2.png" src="../../_images/select2.png" />
<p>En la imagen se ve que selecciona solo las filas que cumplen con la condición que se pedía
(tener una edad mayor a 30 años), la tupla de &#8220;Josefa&#8221; queda fuera de la selección por no
cumplir la condición (pues 25 &lt; 30).
De esta forma la tabla queda:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}  \begin{array}{|c|c|c|c|}
   \hline
   \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad} &amp; \textbf{añosTrabajados(AT)}\\
   \hline
   123 &amp; \text{Leon} &amp; 39 &amp; 15 \\
   \hline
   234 &amp; \text{Tomas} &amp; 34 &amp; 10 \\
   \hline
   345 &amp; \text{Jose} &amp; 45 &amp; 21 \\
   \hline
 \end{array}\end{split}\]</div>
</div>
<div class="section" id="ejemplo-2">
<h4>Ejemplo 2<a class="headerlink" href="#ejemplo-2" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Seleccionar de la tabla <strong>Ingenieros</strong> las personas que tienen más de 30 años
y que lleven menos de 16 años trabajando:</p>
<p><strong>Respuesta</strong></p>
<div class="math">
</div>
<dl class="docutils">
<dt>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</dt>
<dd>sigma_{(edad &gt;30 wedge AT &lt;16)}  text{Ingenieros}</dd>
</dl>
<img alt="../../_images/select3.png" src="../../_images/select3.png" />
<div class="section" id="al-tener-el-operador-logico-and-se-pide-que-cumplan-dos-condiciones-simultaneamente-primero-que-la-edad-sea-mayor-de-30-anos-al-igual-que-en-el-ejemplo-anterior-la-tupla-de-josefa-queda-fuera-de-la-seleccion-luego-de-las-tuplas-que-quedan-se-evalua-la-segunda-condicion-en-la-imagen-se-aprecia-que-solo-se-seleccionan-las-filas-que-no-tengan-x-en-alguna-de-las-condiciones">
<h5>Al tener el operador lógico AND se pide que cumplan dos condiciones simultáneamente. Primero que la edad sea mayor de 30 años, al igual que en el ejemplo anterior, la tupla de &#8220;Josefa&#8221; queda fuera de la selección. Luego de las tuplas que quedan se evalúa la segunda condición. En la imagen se aprecia, que solo se seleccionan las filas que no tengan x en alguna de las condiciones.<a class="headerlink" href="#al-tener-el-operador-logico-and-se-pide-que-cumplan-dos-condiciones-simultaneamente-primero-que-la-edad-sea-mayor-de-30-anos-al-igual-que-en-el-ejemplo-anterior-la-tupla-de-josefa-queda-fuera-de-la-seleccion-luego-de-las-tuplas-que-quedan-se-evalua-la-segunda-condicion-en-la-imagen-se-aprecia-que-solo-se-seleccionan-las-filas-que-no-tengan-x-en-alguna-de-las-condiciones" title="Enlazar permanentemente con este título">¶</a></h5>
<blockquote>
<div>sigma_{(text{edad &gt; 30 AND AT &lt; 16})}  text{Ingenieros}</div></blockquote>
<p>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 2186a9706809593eeb35b75276e9bbb1dc621c30</p>
<p>Así finalmente quedaría la tabla:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad} &amp; \textbf{añosTrabajados(AT)} \\
 \hline
 123 &amp; \text{Leon} &amp; 39 &amp; 15 \\
 \hline
 234 &amp; \text{Tomas} &amp; 34 &amp; 10 \\
 \hline
\end{array}\end{split}\]</div>
</div>
</div>
</div>
<div class="section" id="project">
<h3>PROJECT<a class="headerlink" href="#project" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El operador PROJECT se utiliza para producir una nueva relación desde R. Esta
nueva relación contiene sólo algunos de los atributos de R,
es decir, realiza la selección de algunas de las <strong>columnas</strong> de una tabla R.</p>
<p><strong>Notación en Álgebra Relacional</strong></p>
<p>PROJECT en Álgebra Relacional se representa por la letra griega <strong>pi</strong>:</p>
<div class="math">
\[\pi \hspace{0.2cm} _{(A_1,...,A_n)} \hspace{0.3cm} \text{R}\]</div>
<p>El resultado es una relación seleccionando solo los atributos <span class="math">\(A_1,...,A_n\)</span> de la
relación R.
Si <span class="math">\(A_1,...,A_n\)</span> no incluye una llave (o clave), podrían producirse tuplas
repetidas en el resultado, las cuales serán eliminadas.</p>
<div class="section" id="id1">
<h4>Ejemplo 1<a class="headerlink" href="#id1" title="Enlazar permanentemente con este título">¶</a></h4>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} &amp; \textbf{edad} &amp; \textbf{añosTrabajados(AT)} \\
 \hline
 123 &amp; \text{Leon} &amp; 39 &amp; 15 \\
 \hline
 234 &amp; \text{Tomas} &amp; 34 &amp; 10 \\
 \hline
 345 &amp; \text{Jose} &amp; 45 &amp; 21 \\
 \hline
 143 &amp; \text{Josefa} &amp; 25 &amp; 1 \\
 \hline
\end{array}\end{split}\]</div>
<p>Escoger columnas de id y nombre de la tabla de ingenieros:</p>
<p><strong>Respuesta</strong></p>
<div class="math">
</div>
<dl class="docutils">
<dt>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</dt>
<dd>pi hspace{0.2cm}_{(id,nombre)} hspace{0.3cm} mbox{Ingenieros}</dd>
</dl>
<p>La tabla finalmente queda como:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros}  \\\end{split}\]\[\begin{split}\begin{array}{|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} \\
 \hline
 123 &amp; \text{Leon} \\
 \hline
 234 &amp; \text{Tomas} \\
 \hline
 345 &amp; \text{Jose} \\
 \hline
 143 &amp; \text{Josefa} \\
 \hline
\end{array}\end{split}\]</div>
</div>
<div class="section" id="id2">
<h4>Ejemplo 2<a class="headerlink" href="#id2" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Seleccionar id y nombre de los Ingenieros que tienen más de 30 años.</p>
<p><strong>Respuesta</strong></p>
<div class="math">
</div>
<dl class="docutils">
<dt>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</dt>
<dd>pi hspace{0.2cm} _{(text{id,nombre})} (sigma_{edad&gt;30} hspace{0.3cm} text{Ingenieros})</dd>
</dl>
<img alt="../../_images/prosel.png" src="../../_images/prosel.png" />
<p>Finalmente la tabla queda de la siguiente manera:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} \\
 \hline
 123 &amp; \text{Leon} \\
 \hline
 234 &amp; \text{Tomas} \\
 \hline
 345 &amp; \text{Jose} \\
 \hline
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="cross-product">
<h3>CROSS-PRODUCT<a class="headerlink" href="#cross-product" title="Enlazar permanentemente con este título">¶</a></h3>
<p>En teoría de conjuntos, el producto cartesiano de dos conjuntos es una operación
que resulta en otro conjunto cuyos elementos son todos los pares ordenados que
pueden formarse tomando el primer elemento del par del primer conjunto,
y el segundo elemento del segundo conjunto. En el Álgebra Relacional se mantiene
esta idea con la diferencia que R y S son relaciones, entonces los miembros de R
y S son tuplas, que generalmente consisten de más de un componente,
cuyo resultado de la vinculación de una tupla de R con una tupla de S es una tupla
más larga, con un componente para cada uno de los componentes de las tuplas
constituyentes. Es decir Cross-product define una relación que es la concatenación
de cada una de las filas de la relación R con cada una de las filas de la relación S.</p>
<p><strong>Notación en Álgebra Relacional</strong></p>
<p>Para representar Cross-product en Álgebra Relacional se utiliza la siguiente
terminología:</p>
<div class="math">
\[\text{R} \times \text{S}\]</div>
<p>Por convención para la sentencia anterior, los componentes de R preceden a los
componentes de S en el orden de atributos para el resultado, creando así una nueva
relación con todas las combinaciones posibles de tuplas de R y S.
El número de tuplas de la nueva relación resultante es la multiplicación de la cantidad
de tuplas de R por la cantidad de tuplas que tenga S (producto de ambos).
Si R y S tienen algunos atributos en común, entonces se debe inventar nuevos nombres
para al menos uno de cada par de atributos idénticos. Para eliminar la ambigüedad de
un atributo A, que se encuentra en R y S, se usa R.A para el atributo de R y S.A para
el atributo de S.</p>
<p>Cabe mencionar solo por notación que:</p>
<div class="math">
\[\text{R} \times \text{S} \neq  \text{S} \times \text{R}\]</div>
<div class="section" id="id3">
<h4>Ejemplo 1<a class="headerlink" href="#id3" title="Enlazar permanentemente con este título">¶</a></h4>
<img alt="../../_images/CROSS-PRODUCT1.png" src="../../_images/CROSS-PRODUCT1.png" />
<p>Con las tablas dadas realice el Cross-product de R con S:</p>
<img alt="../../_images/CROSS-PRODUCT2.png" src="../../_images/CROSS-PRODUCT2.png" />
<p>Con las tablas dadas realice el Cross-product de S con R:</p>
<img alt="../../_images/CROSS-PRODUCT3.png" src="../../_images/CROSS-PRODUCT3.png" />
<p>Como se mencionó anteriormente, y como se aprecia en el ejemplo &#8220;Cross-product&#8221; de S con R
es distinto a &#8220;Cross-product de R con S&#8221;</p>
</div>
<div class="section" id="id4">
<h4>Ejemplo 2<a class="headerlink" href="#id4" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Dada las siguientes tablas:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} &amp; \textbf{d#} \\
 \hline
 123 &amp; \text{Leon} &amp; 39 \\
 \hline
 234 &amp; \text{Tomas} &amp; 34 \\
 \hline
 143 &amp; \text{Josefa} &amp; 25 \\
 \hline
\end{array}\end{split}\]\[\begin{split}\textbf{Tabla Proyectos} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|}
 \hline
 \textbf{proyecto} &amp; \textbf{duracion} \\
 \hline
 \text{ACU0034} &amp; 300 \\
 \hline
 \text{USM7345} &amp; 60 \\
 \hline
\end{array}\end{split}\]</div>
<p>Escriba la tabla resultante al realizar la siguiente operación:</p>
<div class="math">
\[\textbf{Ingenieros} \times \textbf{Proyectos}\]</div>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\begin{split}\textbf{Ingenieros} \times \textbf{Proyectos} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} &amp; \textbf{d#} &amp; \textbf{proyecto} &amp; \textbf{duracion} \\
 \hline
 123 &amp; \text{Leon} &amp; 39 &amp; \text{ACU0034} &amp; 300 \\
 \hline
 123 &amp; \text{Leon} &amp; 39 &amp; \text{USM7345} &amp; 60 \\
 \hline
 234 &amp; \text{Tomas} &amp; 34 &amp; \text{ACU0034} &amp; 300 \\
 \hline
 234 &amp; \text{Tomas} &amp; 34 &amp; \text{USM7345} &amp; 60 \\
 \hline
 143 &amp; \text{Josefa} &amp; 25 &amp; \text{ACU0034} &amp; 300 \\
 \hline
 143 &amp; \text{Josefa} &amp; 25 &amp; \text{USM7345} &amp; 60 \\
 \hline
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="naturaljoin">
<h3>NATURALJOIN<a class="headerlink" href="#naturaljoin" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Este operador se utiliza cuando se tiene la necesidad de unir relaciones vinculando
sólo las tuplas que coinciden de alguna manera. NATURALJOIN une sólo los pares de
tuplas de R y S que sean comunes. Más precisamente una tupla r de R y una tupla s de S
se emparejan correctamente si y sólo si r y s coinciden en cada uno de los valores
de los atributos comunes, el resultado de la vinculación es una tupla, llamada
“joined tuple”. Entonces, al realizar NATURALJOIN se obtiene una relación con los
atributos de ambas relaciones y se obtiene combinando las tuplas de ambas relaciones
que tengan el mismo valor en los atributos comunes.</p>
<p><strong>Notación en Álgebra Relacional</strong></p>
<p>Para denotar NATURALJOIN se utiliza la siguiente simbología:</p>
<div class="math">
\[\text{R} \rhd \hspace{-0.1cm} \lhd \text{S}\]</div>
<p><strong>Equivalencia con operadores básicos</strong></p>
<p>NATURALJOIN puede ser escrito en términos de algunos operadores ya vistos, la equivalencia
es la siguiente:</p>
<div class="math">
\[R \rhd \hspace{-0.1cm} \lhd S=  \pi \hspace{0.2cm} _{R.A_1,...,R.A_n,  S.A_1,...,S.A_n} (\sigma_{R.A_1=S.A_1 \wedge ... \wedge R.A_n=S.A_n  }\hspace{0.3cm} (R \times S ))\]</div>
<p><strong>Método</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li>Se realiza el producto cartesiano <span class="math">\(R x S\)</span></li>
<li>Se seleccionan aquellas filas del producto cartesiano para las que los atributos
comunes tengan el mismo valor.</li>
<li>Se elimina del resultado una ocurrencia (columna) de cada uno de los atributos comunes.</li>
</ol>
</div></blockquote>
<div class="section" id="id5">
<h4>Ejemplo 1<a class="headerlink" href="#id5" title="Enlazar permanentemente con este título">¶</a></h4>
<div class="math">
\[\begin{split}\textbf{R}  \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|}
 \hline
 \textbf{a} &amp; \textbf{b} &amp; \textbf{c} \\
 \hline
 1 &amp; 2 &amp; 3 \\
 \hline
 4 &amp; 5 &amp; 6 \\
 \hline
\end{array}\end{split}\]\[\begin{split}\textbf{S} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|}
 \hline
 \textbf{c} &amp; \textbf{d} \\
 \hline
 7 &amp; 5 \\
 \hline
 6 &amp; 2 \\
 \hline
 3 &amp; 4 \\
 \hline
\end{array}\end{split}\]</div>
<p>Con las tablas dadas realice el NaturalJoin de R y S:</p>
<img alt="../../_images/NATURALJOIN.png" class="align-center" src="../../_images/NATURALJOIN.png" />
<div class="math">
\[\begin{split}\textbf{R} \rhd \hspace{-0.1cm} \lhd \textbf{S} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|c|}
 \hline
 \textbf{a} &amp; \textbf{b} &amp; \textbf{c} &amp; \textbf{d} \\
 \hline
 1 &amp; 2 &amp; 3 &amp; 4 \\
 \hline
 4 &amp; 5 &amp; 6 &amp; 2 \\
 \hline
\end{array}\end{split}\]</div>
</div>
<div class="section" id="id6">
<h4>Ejemplo 2<a class="headerlink" href="#id6" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Realizar NATURALJOIN a las siguientes tablas:</p>
<div class="math">
\[\begin{split}\textbf{Tabla Ingenieros} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} &amp; \textbf{d#} \\
 \hline
 123 &amp; \text{Leon} &amp; 39 \\
 \hline
 234 &amp; \text{Tomas} &amp; 34\\
 \hline
 143 &amp; \text{Josefa} &amp; 25 \\
 \hline
 090 &amp; \text{Maria} &amp; 34 \\
 \hline
\end{array}\end{split}\]\[\begin{split}\textbf{Tabla Proyectos} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|}
 \hline
 \textbf{d#} &amp; \textbf{proyecto}\\
 \hline
 39 &amp; \text{ACU0034} \\
 \hline
 34 &amp; \text{USM7345} \\
 \hline
\end{array}\end{split}\]</div>
<p><strong>Respuesta</strong></p>
<div class="math">
\[\begin{split}\textbf{Ingenieros} \rhd \hspace{-0.1cm} \lhd \textbf{Proyectos} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|c|}
 \hline
 \textbf{id} &amp; \textbf{nombre} &amp; \textbf{d#} &amp; \textbf{proyecto} \\
 \hline
 123 &amp; \text{Leon} &amp; 39 &amp; \text{ACU0034} \\
 \hline
 234 &amp; \text{Tomas} &amp; 34 &amp; \text{USM7345} \\
 \hline
 090 &amp; \text{Maria} &amp; 34 &amp; \text{USM7345} \\
 \hline
\end{array}\end{split}\]</div>
</div>
</div>
<div class="section" id="thetajoin">
<h3>THETAJOIN<a class="headerlink" href="#thetajoin" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Define una relación que contiene las tuplas que satisfacen el predicado C en el
producto cartesiano de <span class="math">\(R x S\)</span>.
Conecta relaciones cuando los valores de determinadas columnas tienen una interrelación
específica. La condición C es de la forma <span class="math">\(R.ai\)</span> &lt;operador_de_comparación&gt; <span class="math">\(S.bi\)</span>,
esta condición es del mismo tipo que se utiliza SELECT. El predicado no tiene por que
definirse sobre atributos comunes. El término “join” suele referirse a THETAJOIN.</p>
<p><strong>Notación en Álgebra Relacional</strong></p>
<p>La notación de THETAJOIN es el mismo símbolo que se utiliza para NATURALJOIN, la
diferencia radica en que THETAJOIN lleva el predicado C:</p>
<div class="math">
\[\begin{split}\text{R} \rhd \hspace{-0.1cm} \lhd_C \text{S} \\\end{split}\]\[\begin{split}\text{C = &lt;Atributo&gt; &lt;Comparador&gt; &lt;Atributo o Constante del Dominio&gt;} \\\end{split}\]\[\begin{split}\text{Donde:}\\\end{split}\]\[\begin{split}\text{&lt;Comparador&gt;} \in {\{=,\geq,&gt;,&lt;, \neq,\leq \}}\\\end{split}\]</div>
<p><strong>Equivalencia con operadores básicos</strong></p>
<p>Al igual NATURALJOIN, THETAJOIN puede ser escrito en función de los operadores vistos
anteriormente:</p>
<div class="math">
\[R \rhd \hspace{-0.1cm} \lhd_C S= \sigma_{F} (R \times S)\]</div>
<p><strong>Método</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li>Se&nbsp;forma&nbsp;el&nbsp;producto&nbsp;cartesiano&nbsp;<span class="math">\(R\)</span>&nbsp;x&nbsp;<span class="math">\(S\)</span>.</li>
<li>Se&nbsp;selecciona,&nbsp;en&nbsp;el&nbsp;producto,&nbsp;solo&nbsp;la&nbsp;tupla&nbsp;que&nbsp;cumplan&nbsp;la&nbsp;condición <span class="math">\(C\)</span>.</li>
</ol>
</div></blockquote>
<div class="section" id="id7">
<h4>Ejemplo 1<a class="headerlink" href="#id7" title="Enlazar permanentemente con este título">¶</a></h4>
<div class="math">
\[\begin{split}\textbf{R} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|c|}
 \hline
 \textbf{a} &amp; \textbf{b} &amp; \textbf{c} &amp; \textbf{d} \\
 \hline
 1 &amp; 3 &amp; 5 &amp; 7 \\
 \hline
 3 &amp; 2 &amp; 9 &amp; 1 \\
 \hline
 2 &amp; 3 &amp; 5 &amp; 4 \\
 \hline
\end{array}\end{split}\]\[\begin{split}\textbf{S} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|}
 \hline
 \textbf{a} &amp; \textbf{c} &amp; \textbf{e} \\
 \hline
 1 &amp; 5 &amp; 2 \\
 \hline
 1 &amp; 5 &amp; 9 \\
 \hline
 3 &amp; 9 &amp; 2 \\
 \hline
 2 &amp; 3 &amp; 7 \\
 \hline
\end{array}\end{split}\]</div>
<p>Escriba la tabla resultante al realizar la siguiente operación:</p>
<div class="math">
\[\begin{split}R \rhd \hspace{-0.1cm} \lhd_{(A&nbsp;&gt;=&nbsp;E)} S\end{split}\]</div>
<p><strong>Respuesta</strong></p>
<img alt="../../_images/THETAJOIN1.png" class="align-center" src="../../_images/THETAJOIN1.png" />
<img alt="../../_images/THETAJOIN2.png" class="align-center" src="../../_images/THETAJOIN2.png" />
<img alt="../../_images/THETAJOIN3.png" class="align-center" src="../../_images/THETAJOIN3.png" />
<div class="math">
\[\begin{split}\textbf{S} \\\end{split}\]\[\begin{split}\begin{array}{|c|c|c|c|c|c|c|}
 \hline
 \textbf{R.a} &amp; \textbf{b} &amp; \textbf{R.c} &amp; \textbf{d} &amp; \textbf{S.a} &amp; \textbf{S.c} &amp; \textbf{e} \\
 \hline
 3 &amp; 2 &amp; 9 &amp; 1 &amp; 1 &amp; 5 &amp; 2 \\
 \hline
 3 &amp; 2 &amp; 9 &amp; 1 &amp; 3 &amp; 9 &amp; 2 \\
 \hline
 2 &amp; 3 &amp; 5 &amp; 4 &amp; 1 &amp; 5 &amp; 2 \\
 \hline
 2 &amp; 3 &amp; 5 &amp; 4 &amp; 3 &amp; 9 &amp; 2 \\
 \hline
\end{array}\end{split}\]</div>
</div>
<div class="section" id="id8">
<h4>Ejemplo 2<a class="headerlink" href="#id8" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Con el esquema conceptual siguiente, hallar los nombres de los directores de cada departamento:</p>
<p>Dpto (numDpto, nombre, nIFDirector, fechaInicio)</p>
<p>Empleado (nIF, nombre, direccion, salario, dpto, nIFSupervisor)</p>
<p><strong>Respuesta</strong></p>
<div class="math">
</div>
<dl class="docutils">
<dt>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</dt>
<dd>pi_{(dpto.nombre,empleado.nombre)} (dpto rhd hspace{-0.1cm} lhd_{nIFDirector=NIF} mbox{empleado})</dd>
</dl>
<ul class="simple">
<li>Tuplas con Null en los “Atributos de la Reunión”, no se incluyen en el resultado.</li>
</ul>
</div>
</div>
<div class="section" id="ejercicio-propuesto">
<h3>EJERCICIO PROPUESTO<a class="headerlink" href="#ejercicio-propuesto" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Considere la siguiente base de datos:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Persona(nombre, edad, genero) : nombre es la clave.</li>
<li>Frecuenta(nombre, pizzeria) : (nombre, pizzeria) es la clave.</li>
<li>Come(nombre, pizza) : (name, pizza) es la clave.</li>
<li>Sirve(pizzeria, pizza, precio): (pizzeria, pizza) es la clave.</li>
</ol>
</div></blockquote>
<p>Escribir expresiones en álgebra relacional para las siguientes dos preguntas:</p>
<blockquote>
<div><ul class="simple">
<li>Seleccionar a las personas que comen pizzas con extra queso.</li>
<li>Seleccionar a las personas que comen pizzas con extra queso y frecuentan la
pizzería X.</li>
</ul>
</div></blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="lecture4.html" title="Lectura 4 - Álgebra Relacional: Set operators, renaming, notation"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="lecture2.html" title="Lectura 2 - Bases de datos relacionales: Consulta de bases de datos relacionales"
             >anterior</a> |</li>
        <li><a href="../../index.html">Curso SQL</a> &raquo;</li>
          <li><a href="index.html" >Primera Semana</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Computer Systems Research Group (CSRG), UTFSM.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>